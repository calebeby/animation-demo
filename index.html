<!DOCTYPE html><html><head><meta content="IE=edge" http-equiv="X-UA-Compatible" /><meta charset="utf-8" /><meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport" /><title>Transitions, Animations, and Parallax Effects</title><link href="//fonts.googleapis.com/css?family=Lato:300,400" rel="stylesheet" type="text/css" /><link href="/stylesheets/site.css" rel="stylesheet" /></head><body class="index"><h1 id="transitions-animations-and-parallax-effects">Transitions, Animations, and Parallax Effects</h1>

<h2 id="css-transitions">CSS Transitions</h2>

<p>CSS transitions let you change from one state to another, smoothly:</p>

<div class='box'>Hover</div>
<pre class="highlight html"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'box'</span><span class="nt">&gt;</span>Hover<span class="nt">&lt;/div&gt;</span>
</code></pre>
<pre class="highlight css"><code><span class="nc">.box</span> <span class="p">{</span>
  <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">background-color</span> <span class="m">2s</span> <span class="n">ease</span><span class="p">;</span> <span class="c">/* Without this it would jump between states */</span>
<span class="p">}</span>
<span class="nc">.box</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="no">green</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>

<p>You can transition many CSS properties. <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_animated_properties">A full list of animatable properties is on MDN</a>
CSS Transitions have very good performance in the browser, and are easy to use, but they do not have advanced features.</p>

<h2 id="css-animations">CSS Animations</h2>

<p>CSS Animations let you do more advanced animations that do not have to be attatched to an event (like hover). They can be run infinitely, or a certain number of times. You can also add more &lsquo;stops&rsquo;. With transitions, you must always have two stops: start and end. With CSS Animations, you can have as many stops as you want. They also have good performance.</p>

<p>You should definitely check out <a href="https://daneden.github.io/animate.css/">Daniel Eden&rsquo;s Animate.css library</a>. <a href="https://css-tricks.com/almanac/properties/a/animation/">CSS-Tricks has a great article on CSS Animations</a>. I have one of their demos below:</p>

<div class="box2"></div>
<pre class="highlight html"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"box2"</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre>
<pre class="highlight css"><code><span class="nc">.box2</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">50px</span><span class="p">;</span>
  <span class="nl">animation</span><span class="p">:</span> <span class="n">pulse</span> <span class="m">5s</span> <span class="n">infinite</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@keyframes</span> <span class="n">pulse</span> <span class="p">{</span>
  <span class="nt">0</span><span class="o">%</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#001F3F</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nt">10</span><span class="o">%</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="no">green</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nt">100</span><span class="o">%</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#FF4136</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<h2 id="greensock-animation-platform-gsap">GreenSock Animation Platform (GSAP)</h2>

<p>GSAP is a very powerful JavaScript Animation library that has great browser support and performs very well. GSAP is free, but they have some very useful plugins for paid members. Because it uses JavaScript, it is harder to use, but it has many more options.</p>

<div class='container'>
  <div class='box3'></div>
</div>
<pre class="highlight html"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'container'</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'box3'</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="c">&lt;!-- Load the script --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
<pre class="highlight css"><code><span class="nc">.container</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">500px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.container</span> <span class="nc">.box3</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">50px</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">50px</span><span class="p">;</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="no">green</span><span class="p">;</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>

<p>CoffeeScript is like JavaScript, except easier to read and write. The computer turns it into JavaScript. You can see the JavaScript below the CoffeeScript.</p>
<pre class="highlight coffeescript"><code><span class="nx">box</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="na">querySelectorAll</span> <span class="s">'.container .box3'</span>

<span class="nx">timeline</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TimelineMax</span> <span class="p">(</span>
  <span class="na">repeat</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span> <span class="c1"># repeat infinitely</span>
  <span class="na">yoyo</span><span class="o">:</span> <span class="no">true</span> <span class="c1"># play forwards, reverse instead of forwards, forwards</span>
<span class="p">)</span>

<span class="c1">#        Element duration</span>
<span class="c1">#            |   |</span>
<span class="c1">#            V   V</span>
<span class="nx">timeline</span><span class="p">.</span><span class="na">to</span> <span class="nx">box</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="p">(</span>
  <span class="na">right</span><span class="o">:</span> <span class="mi">0</span>              <span class="c1"># &lt;- Properties to change</span>
  <span class="na">ease</span><span class="o">:</span> <span class="nx">Power0</span><span class="p">.</span><span class="na">easeNone</span> <span class="c1"># &lt;- Ease</span>
<span class="p">),</span> <span class="mi">0</span> <span class="c1"># &lt;- When to start it</span>

<span class="nx">timeline</span><span class="p">.</span><span class="na">to</span> <span class="nx">box</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">(</span>
  <span class="na">y</span><span class="o">:</span> <span class="mi">400</span>
  <span class="na">ease</span><span class="o">:</span> <span class="nx">Bounce</span><span class="p">.</span><span class="na">easeOut</span>
<span class="p">),</span> <span class="mi">1</span>

<span class="nx">timeline</span><span class="p">.</span><span class="na">to</span> <span class="nx">box</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">(</span>
  <span class="na">rotation</span><span class="o">:</span> <span class="mi">180</span>
  <span class="na">borderRadius</span><span class="o">:</span> <span class="s">'50%'</span> <span class="c1"># change to circle</span>
  <span class="na">backgroundColor</span><span class="o">:</span> <span class="s">'red'</span>
<span class="p">),</span> <span class="mi">1</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">box</span><span class="p">,</span> <span class="nx">timeline</span><span class="p">;</span>

<span class="nx">box</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">'.container .box3'</span><span class="p">);</span>

<span class="nx">timeline</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TimelineMax</span><span class="p">({</span>
  <span class="na">repeat</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
  <span class="na">yoyo</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">});</span>

<span class="nx">timeline</span><span class="p">.</span><span class="nx">to</span><span class="p">(</span><span class="nx">box</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">right</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">ease</span><span class="p">:</span> <span class="nx">Power0</span><span class="p">.</span><span class="nx">easeNone</span>
<span class="p">},</span> <span class="mi">0</span><span class="p">);</span>

<span class="nx">timeline</span><span class="p">.</span><span class="nx">to</span><span class="p">(</span><span class="nx">box</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">y</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
  <span class="na">ease</span><span class="p">:</span> <span class="nx">Bounce</span><span class="p">.</span><span class="nx">easeOut</span>
<span class="p">},</span> <span class="mi">1</span><span class="p">);</span>

<span class="nx">timeline</span><span class="p">.</span><span class="nx">to</span><span class="p">(</span><span class="nx">box</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">rotation</span><span class="p">:</span> <span class="mi">180</span><span class="p">,</span>
  <span class="na">borderRadius</span><span class="p">:</span> <span class="s1">'50%'</span><span class="p">,</span>
  <span class="na">backgroundColor</span><span class="p">:</span> <span class="s1">'red'</span>
<span class="p">},</span> <span class="mi">1</span><span class="p">);</span>
</code></pre>

<h2 id="scrollmagic">ScrollMagic</h2>

<div class='container'>
  <div class='box4'></div>
</div>
<pre class="highlight html"><code><span class="c">&lt;!-- get TweenMax --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="c">&lt;!-- get ScrollMagic --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="c">&lt;!-- get TweenMax plugin for ScrollMagic --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/animation.gsap.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
<pre class="highlight css"><code><span class="nc">.container</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">500px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.container</span> <span class="nc">.box3</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">50px</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">50px</span><span class="p">;</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="no">green</span><span class="p">;</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight coffeescript"><code><span class="c1"># Get elements</span>
<span class="nx">scrollBox</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="na">querySelectorAll</span><span class="p">(</span><span class="s">'.container .box4'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="nx">container</span> <span class="o">=</span> <span class="nx">scrollBox</span><span class="p">.</span><span class="na">parentNode</span>

<span class="c1"># Setup TimelineMax</span>
<span class="nx">scrollTimeline</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TimelineMax</span><span class="p">()</span>

<span class="c1"># Create animations</span>
<span class="c1"># Same as before</span>
<span class="nx">scrollTimeline</span><span class="p">.</span><span class="na">to</span> <span class="nx">scrollBox</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="p">(</span>
  <span class="na">right</span><span class="o">:</span> <span class="mi">0</span>
  <span class="na">ease</span><span class="o">:</span> <span class="nx">Power0</span><span class="p">.</span><span class="na">easeNone</span>
<span class="p">),</span> <span class="mi">0</span>

<span class="nx">scrollTimeline</span><span class="p">.</span><span class="na">to</span> <span class="nx">scrollBox</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">(</span>
  <span class="na">y</span><span class="o">:</span> <span class="mi">400</span>
  <span class="na">ease</span><span class="o">:</span> <span class="nx">Bounce</span><span class="p">.</span><span class="na">easeOut</span>
<span class="p">),</span> <span class="mi">1</span>

<span class="nx">scrollTimeline</span><span class="p">.</span><span class="na">to</span> <span class="nx">scrollBox</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">(</span>
  <span class="na">rotation</span><span class="o">:</span> <span class="mi">180</span>
  <span class="na">borderRadius</span><span class="o">:</span> <span class="s">'50%'</span>
  <span class="na">backgroundColor</span><span class="o">:</span> <span class="s">'red'</span>
<span class="p">),</span> <span class="mi">1</span>

<span class="c1"># Setup controller</span>
<span class="nx">controller</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ScrollMagic</span><span class="p">.</span><span class="na">Controller</span><span class="p">()</span>

<span class="c1"># Setup scene</span>
<span class="nx">scene</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ScrollMagic</span><span class="p">.</span><span class="na">Scene</span> <span class="p">(</span>
  <span class="na">triggerElement</span><span class="o">:</span> <span class="nx">container</span> <span class="c1"># When the container</span>
  <span class="na">triggerHook</span><span class="o">:</span> <span class="s">'onLeave'</span>    <span class="c1"># Gets to the top of the screen, start the animation.</span>
  <span class="na">duration</span><span class="o">:</span> <span class="mi">500</span>             <span class="c1"># Which lasts for 500px</span>
<span class="p">)</span>
  <span class="p">.</span><span class="na">addTo</span> <span class="nx">controller</span>         <span class="c1"># Connect  it to the controller</span>
  <span class="p">.</span><span class="na">setTween</span> <span class="nx">scrollTimeline</span>  <span class="c1"># Add the animation to it</span>
  <span class="p">.</span><span class="na">setPin</span> <span class="nx">container</span>         <span class="c1"># Pin the container in place when you scroll to it</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">container</span><span class="p">,</span> <span class="nx">controller</span><span class="p">,</span> <span class="nx">scene</span><span class="p">,</span> <span class="nx">scrollBox</span><span class="p">,</span> <span class="nx">scrollTimeline</span><span class="p">;</span>

<span class="nx">scrollBox</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">'.container .box4'</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>

<span class="nx">container</span> <span class="o">=</span> <span class="nx">scrollBox</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>

<span class="nx">scrollTimeline</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TimelineMax</span><span class="p">();</span>

<span class="nx">scrollTimeline</span><span class="p">.</span><span class="nx">to</span><span class="p">(</span><span class="nx">scrollBox</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">right</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">ease</span><span class="p">:</span> <span class="nx">Power0</span><span class="p">.</span><span class="nx">easeNone</span>
<span class="p">},</span> <span class="mi">0</span><span class="p">);</span>

<span class="nx">scrollTimeline</span><span class="p">.</span><span class="nx">to</span><span class="p">(</span><span class="nx">scrollBox</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">y</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
  <span class="na">ease</span><span class="p">:</span> <span class="nx">Bounce</span><span class="p">.</span><span class="nx">easeOut</span>
<span class="p">},</span> <span class="mi">1</span><span class="p">);</span>

<span class="nx">scrollTimeline</span><span class="p">.</span><span class="nx">to</span><span class="p">(</span><span class="nx">scrollBox</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">rotation</span><span class="p">:</span> <span class="mi">180</span><span class="p">,</span>
  <span class="na">borderRadius</span><span class="p">:</span> <span class="s1">'50%'</span><span class="p">,</span>
  <span class="na">backgroundColor</span><span class="p">:</span> <span class="s1">'red'</span>
<span class="p">},</span> <span class="mi">1</span><span class="p">);</span>

<span class="nx">controller</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ScrollMagic</span><span class="p">.</span><span class="nx">Controller</span><span class="p">();</span>

<span class="nx">scene</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ScrollMagic</span><span class="p">.</span><span class="nx">Scene</span><span class="p">({</span>
  <span class="na">triggerElement</span><span class="p">:</span> <span class="nx">container</span><span class="p">,</span>
  <span class="na">duration</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
  <span class="na">triggerHook</span><span class="p">:</span> <span class="s1">'onLeave'</span>
<span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">controller</span><span class="p">).</span><span class="nx">setTween</span><span class="p">(</span><span class="nx">scrollTimeline</span><span class="p">).</span><span class="nx">setPin</span><span class="p">(</span><span class="nx">container</span><span class="p">);</span>

</code></pre>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/animation.gsap.min.js"></script><script src="/javascripts/all.js"></script></body></html>